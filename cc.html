<!DOCTYPE html>
<html>
<head>
    <title>Character Creator - Go!AniFire</title>
    <link rel="stylesheet" href="style.css">
    <script src="js/ruffle/ruffle.js"></script>
</head>
<body>

    <div id="loading-screen">
        <div class="loading-content">
            <img src="themelistfiles/Lil_Peepz.jpg" alt="Loading CC" class="cc-preview">
            <h2>Opening Character Creator...</h2>
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
            <p>Fetching Character Assets</p>
        </div>
    </div>

    <div id="cc-player"></div>

    <script>
        // Disable Ruffle's default logo so your custom screen shows
        window.RufflePlayer = window.RufflePlayer || {};
        window.RufflePlayer.config = {
            "splashScreen": false,
            "autoplay": "on"
        };

        window.addEventListener("load", (event) => {
            const ruffle = window.RufflePlayer.newest();
            const player = ruffle.createPlayer();
            const container = document.getElementById("cc-player");
            container.appendChild(player);

            // Logic to load the CC SWF
            player.load({
                url: "static/cc.swf", 
                flashvars: {
                    "apiserver": "/",
                    "m_mode": "school",
                    "isEmbed": "1",
                    "ctc": "go",
                    "tlang": "en_US"
                }
            });

            // Hide the loading screen after 4 seconds
            setTimeout(() => {
                const loader = document.getElementById("loading-screen");
                loader.style.opacity = "0";
                setTimeout(() => { loader.style.display = "none"; }, 500);
            }, 4000);
        });
    </script>
</body>
</html>
